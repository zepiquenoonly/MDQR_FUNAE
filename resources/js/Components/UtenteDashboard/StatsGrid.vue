<template>
  <div>
    <div class="text-2xl font-semibold text-gray-800 mb-4">
      <h1>Vis√£o Geral das Minhas Submiss√µes</h1>
    </div>
    
    <!-- Estat√≠sticas por Tipo -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
      <StatCard 
        title="Reclama√ß√µes" 
        :value="statsByType.complaints.toString()" 
        description="Total de reclama√ß√µes submetidas" 
        icon="üìã"
        color="red"
      />
      <StatCard 
        title="Queixas" 
        :value="statsByType.grievances.toString()" 
        description="Total de queixas submetidas" 
        icon="‚ö†Ô∏è"
        color="orange"
      />
      <StatCard 
        title="Sugest√µes" 
        :value="statsByType.suggestions.toString()" 
        description="Total de sugest√µes submetidas" 
        icon="üí°"
        color="blue"
      />
    </div>

    <!-- Estat√≠sticas por Status -->
    <div class="text-lg font-semibold text-gray-800 mb-3 mt-8">
      <h2>Status das Submiss√µes</h2>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8">
      <StatCard 
        title="Total de Submiss√µes" 
        :value="stats.total.toString()" 
        description="Todas as submiss√µes" 
        icon="üìä"
        color="purple"
      />
      <StatCard 
        title="Em Progresso" 
        :value="stats.in_progress.toString()" 
        description="Sendo processadas" 
        icon="üîÑ"
        color="orange"
      />
      <StatCard 
        title="Resolvidas" 
        :value="stats.resolved.toString()" 
        description="Conclu√≠das com sucesso" 
        icon="‚úÖ"
        color="green"
      />
      <StatCard 
        title="Pendentes" 
        :value="stats.submitted.toString()" 
        description="Aguardando an√°lise" 
        icon="‚è≥"
        color="yellow"
      />
    </div>
  </div>
</template>

<script setup>
import { computed } from 'vue'
import { usePage } from '@inertiajs/vue3'
import StatCard from './StatCard.vue'

const page = usePage()

const stats = computed(() => {
  return page.props.stats || {
    total: 0,
    submitted: 0,
    in_progress: 0,
    resolved: 0,
    closed: 0,
    rejected: 0
  }
})

const statsByType = computed(() => {
  return page.props.statsByType || {
    complaints: 0,
    grievances: 0,
    suggestions: 0
  }
})
</script>